# .cargo/config.toml - Build Configuration

[build]
# Use mold linker for faster builds on Linux (fallback to lld)
# rustflags = ["-C", "link-arg=-fuse-ld=lld"]

[target.x86_64-unknown-linux-gnu]
rustflags = [
    "-C", "target-cpu=native",
    "-C", "target-feature=+aes,+avx,+avx2,+sse4.2",
]

[target.aarch64-unknown-linux-gnu]
rustflags = [
    "-C", "target-cpu=native",
]

[target.x86_64-apple-darwin]
rustflags = [
    "-C", "target-cpu=native",
]

[target.aarch64-apple-darwin]
rustflags = [
    "-C", "target-cpu=native",
]

[alias]
xtask = "run --package xtask --"
bench-all = "bench --workspace"
test-all = "test --workspace --all-features"

[env]
RUST_BACKTRACE = "1"

[net]
retry = 3
